/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/styles/style.scss":
/*!*******************************!*\
  !*** ./src/styles/style.scss ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://webpack_essai/./src/styles/style.scss?");

/***/ }),

/***/ "./src/scripts/factories/lightboxImage.js":
/*!************************************************!*\
  !*** ./src/scripts/factories/lightboxImage.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Lightboximage\": () => (/* binding */ Lightboximage)\n/* harmony export */ });\nclass Lightboximage {\r\n    constructor(url, title) {\r\n      this.title = title;\r\n      this.url = url;\r\n    }\r\n  \r\n    buildDom() {\r\n      const lightboxContainer = document.querySelector('.lightbox_container');\r\n      lightboxContainer.innerHTML = ''\r\n      lightboxContainer.innerHTML = `\r\n      <div>\r\n        <img src=\"${this.url}\" alt=\"${this.title}\" tabindex=\"0\" class=\"modalLightbox\">\r\n        <p tabindex=\"0\" class=\"modalLightbox\">${this.title}</p>\r\n      </div>\r\n      `\r\n      // wrapper.querySelector(\".next\").addEventListener('click', this.next.bind(this));\r\n      \r\n    }\r\n  }\n\n//# sourceURL=webpack://webpack_essai/./src/scripts/factories/lightboxImage.js?");

/***/ }),

/***/ "./src/scripts/factories/lightboxVideo.js":
/*!************************************************!*\
  !*** ./src/scripts/factories/lightboxVideo.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Lightboxvideo\": () => (/* binding */ Lightboxvideo)\n/* harmony export */ });\nclass Lightboxvideo {\r\n    constructor(url, title) {\r\n      this.title = title;\r\n      this.url = url;\r\n    }\r\n  \r\n    buildDom() {\r\n      const lightboxContainer = document.querySelector('.lightbox_container');\r\n      console.log(lightboxContainer);\r\n      lightboxContainer.innerHTML = ''\r\n      lightboxContainer.innerHTML = `\r\n      <div>\r\n        <video src=\"${this.url}\" alt=\"${this.title}\" tabindex=\"0\" class=\"modalLightbox\" controls></video>\r\n        <p tabindex=\"0\" class=\"modalLightbox\">${this.title}</p>\r\n      </div>\r\n      `\r\n      // wrapper.querySelector(\".next\").addEventListener('click', this.next.bind(this));\r\n      \r\n    }\r\n  }\n\n//# sourceURL=webpack://webpack_essai/./src/scripts/factories/lightboxVideo.js?");

/***/ }),

/***/ "./src/scripts/factories/mediasFactory.js":
/*!************************************************!*\
  !*** ./src/scripts/factories/mediasFactory.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MediaFactory\": () => (/* binding */ MediaFactory)\n/* harmony export */ });\nclass MediaFactory {\r\n  constructor(dataMedia) {\r\n    if (dataMedia.video == undefined) {\r\n      return new MediaImages(dataMedia);\r\n    } else if (dataMedia.image == undefined) {\r\n      return new Videos(dataMedia);\r\n    }\r\n  }\r\n}\r\n\r\nclass Medias {\r\n  constructor(dataMedia, media) {\r\n    this.id = dataMedia.id;\r\n    this.photographerId = dataMedia.photographerId;\r\n    this.title = dataMedia.title;\r\n    this.likes = dataMedia.likes;\r\n    this.date = dataMedia.date;\r\n    this.price = dataMedia.price;\r\n    this.media = media;\r\n  }\r\n\r\n  getMedias() {\r\n    const gallery = document.querySelector(\".gallery\");\r\n    gallery.innerHTML += `\r\n        <figure>\r\n            ${this.media}\r\n            <figcaption>\r\n            <p class=\"title\" title=\"${this.title}\" tabindex=\"0\">${this.title}</p><p tabindex=\"0\" data-target=\"${this.likes}\" class=\"like-count\" aria-label=\"nombre de j'aime\"></p><p class=\"like-button\" aria-label=\"likes\" role=\"button\" tabindex=\"0\"><i class=\"far fa-regular fa-heart\"></i></p>\r\n            </figcaption>\r\n        </figure>\r\n        \r\n        `;\r\n  }\r\n}\r\n\r\nclass MediaImages extends Medias {\r\n  constructor(dataMedia) {\r\n    super(dataMedia);\r\n    this.image = dataMedia.image;\r\n    this.media = `<img id=\"${this.id}\" class=\"media\" src=\"assets/photographers/${this.photographerId}/${this.image}\" srcset=\"assets/photographers/${this.photographerId}/${this.image}_small.jpg 1x\" alt=\"${this.title}\" tabindex=\"0\">`;\r\n  }\r\n}\r\n\r\nclass Videos extends Medias {\r\n  constructor(dataMedia) {\r\n    super(dataMedia);\r\n    this.video = dataMedia.video;\r\n    this.media = `\r\n        <video id=\"${this.id}\" class=\"media\" preload=\"metadata\" src=\"assets/photographers/videos/${this.video}\" type=\"video/mp4\" loop tabindex=\"0\"></video>\r\n        <div class=\"bar\">\r\n                <div class=\"bar-line\"></div>\r\n        </div>\r\n        `;\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://webpack_essai/./src/scripts/factories/mediasFactory.js?");

/***/ }),

/***/ "./src/scripts/factories/photographerFactory.js":
/*!******************************************************!*\
  !*** ./src/scripts/factories/photographerFactory.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PhotographerFactory\": () => (/* binding */ PhotographerFactory)\n/* harmony export */ });\nclass PhotographerFactory {\r\n\r\n    constructor(dataPh) {\r\n      this.name = dataPh.name;\r\n      this.id = dataPh.id;\r\n      this.city = dataPh.city;\r\n      this.country = dataPh.country;\r\n      this.tagline = dataPh.tagline;\r\n      this.price = dataPh.price;\r\n      this.portrait = dataPh.portrait;\r\n    }\r\n  \r\n  getUserCardDom() {\r\n      const photographerSection = document.querySelector('.photographer_section');\r\n      photographerSection.innerHTML += `\r\n      <div class=\"portrait\">\r\n           <a href=\"photographer.html?index=${this.id}\">\r\n                <article tabindex=\"0\" data-filter = \"${this.id}\" class=\"photographer_article\">\r\n                    <img src=\"assets/photographers/photo/${this.portrait}\" srcset=\"assets/photographers/photo/${this.portrait}_small.jpg 1x\" alt=\"${this.name}\">\r\n                    <h2 aria-label=\"${this.name}\">${this.name}</h2>\r\n                </article>\r\n          </a> \r\n                <article tabindex=\"0\">\r\n                    <h3>${this.city}, ${this.country}</h4>\r\n                    <p>${this.tagline}</p>\r\n                    <p>${this.price}€/jour</p>\r\n                </article>\r\n        </div>     \r\n            `;   \r\n     }\r\n\r\n   getUserSpecific() {\r\n      const photographerHeader = document.querySelector('.photograph-header');\r\n\r\n      photographerHeader.innerHTML =\r\n    \r\n      `\r\n      <div class=\"presentation\">\r\n        <h1 tabindex=\"0\">${this.name}</h1>\r\n        <h2 tabindex=\"0\">${this.city}, ${this.country}</h2>\r\n        <p tabindex=\"0\">${this.tagline}</p>\r\n      </div>\r\n      <button tabindex=\"0\" class=\"contact\">Contactez-moi</button>\r\n      <img src=\"assets/photographers/photo/${this.portrait}\" srcset=\"assets/photographers/photo/${this.portrait}_small.jpg 1x\" alt=\"${this.name}\" tabindex=\"0\">\r\n      `\r\n  }\r\n\r\n}\r\n\r\n\n\n//# sourceURL=webpack://webpack_essai/./src/scripts/factories/photographerFactory.js?");

/***/ }),

/***/ "./src/scripts/pages/api.js":
/*!**********************************!*\
  !*** ./src/scripts/pages/api.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fetchPhotographers\": () => (/* binding */ fetchPhotographers),\n/* harmony export */   \"fetchPhotographersMedias\": () => (/* binding */ fetchPhotographersMedias)\n/* harmony export */ });\nasync function fetchPhotographers() {\r\n    let dataPh;\r\n    return fetch(\"./data/photographers.json\")\r\n    .then(res => res.json())\r\n    .then((data) => (dataPh = data.photographers))\r\n    .catch(error => alert(error));\r\n  }\r\n\r\n  async function fetchPhotographersMedias() {\r\n    let dataMedia;\r\n    return fetch(\"./data/photographers.json\")\r\n      .then(res => res.json())\r\n      .then((data) => (dataMedia = data.media))\r\n      .catch(error => alert(error));\r\n      \r\n  }\n\n//# sourceURL=webpack://webpack_essai/./src/scripts/pages/api.js?");

/***/ }),

/***/ "./src/scripts/pages/diaporama.js":
/*!****************************************!*\
  !*** ./src/scripts/pages/diaporama.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Lightbox\": () => (/* binding */ Lightbox)\n/* harmony export */ });\n/* harmony import */ var _pages_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/api */ \"./src/scripts/pages/api.js\");\n/* harmony import */ var _pages_photographer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pages/photographer */ \"./src/scripts/pages/photographer.js\");\n/* harmony import */ var _factories_lightboxImage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../factories/lightboxImage */ \"./src/scripts/factories/lightboxImage.js\");\n/* harmony import */ var _factories_lightboxVideo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../factories/lightboxVideo */ \"./src/scripts/factories/lightboxVideo.js\");\n\r\n\r\n\r\n\r\n//import { MediaFactory } from \"./mediasFactory\";\r\n\r\nclass Lightbox {\r\n  static init() {\r\n    const links = Array.from(document.querySelectorAll(\".media\"));\r\n    const tabLinks = links.map((media) => media.getAttribute(\"src\")); //this.tabLinks\r\n    const titles = Array.from(document.querySelectorAll(\".title\"));\r\n    \r\n    const title = titles.map((elt) => elt.innerText);\r\n    \r\n    \r\n    for (let i = 0; i < links.length; i++) {\r\n      const link = links[i]; //this.link\r\n      const titlePos = title[i]; //this.titlePos\r\n      const linkUrl = link.getAttribute(\"src\"); //this.linkUrl\r\n      const currentMediaPosition = tabLinks.findIndex(//this.currentPosition\r\n        (link) => link == linkUrl\r\n      );\r\n      const currentMediaTitle = title.findIndex(//this.currentMediaTitle\r\n        (link) => link == titlePos\r\n      );\r\n\r\n      link.onclick = (e) => {\r\n        const light = new Lightbox(linkUrl, tabLinks, link, title, titlePos, currentMediaPosition, currentMediaTitle);\r\n        light.preview();\r\n        const next = document.querySelector(\".next\");\r\n        next.focus();\r\n      };\r\n\r\n      link.onkeydown = (e) => {\r\n        if (e.key === \"Enter\") {\r\n          e.preventDefault();\r\n          const light = new Lightbox(linkUrl, tabLinks, link, title, titlePos, currentMediaPosition, currentMediaTitle);\r\n          light.preview();\r\n          const next = document.querySelector(\".next\");\r\n          next.focus();\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  //AFFICHAGE DE LA LIGHTBOX AVEC IMAGES ET/OU VIDEO\r\n  preview() {\r\n    if (this.links[this.currentMediaPosition].nodeName === \"IMG\") {\r\n      \r\n      const lightboxImage = new _factories_lightboxImage__WEBPACK_IMPORTED_MODULE_2__.Lightboximage(this.linkUrl, this.titlePos);\r\n      lightboxImage.buildDom();\r\n    } else{\r\n      const lightboxVideo = new _factories_lightboxVideo__WEBPACK_IMPORTED_MODULE_3__.Lightboxvideo(this.linkUrl, this.titlePos);\r\n\r\n      lightboxVideo.buildDom();\r\n    }\r\n  }\r\n\r\n  focusInModal (e) {\r\n    e.preventDefault();\r\n    const wrapper = document.querySelector(\".wrapper\");\r\n    const focusablesLightbox = Array.from(\r\n      document.querySelectorAll(\".modalLightbox\")\r\n    );\r\n    \r\n    let index = focusablesLightbox.findIndex(\r\n      (elt) => elt === wrapper.querySelector(\":focus\")\r\n    );\r\n    console.log(index);\r\n\r\n    if (e.shiftKey === true) {\r\n      index--;\r\n    } else {\r\n      index++;\r\n    }\r\n\r\n    if (index >= focusablesLightbox.length) {\r\n      index = 0;\r\n    }\r\n    if (index < 0) {\r\n      index = focusablesLightbox.length - 1;\r\n    }\r\n\r\n    focusablesLightbox[index].focus();\r\n  };\r\n\r\n  clicEvent() {\r\n    this.closeIcon.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      this.close();\r\n    });\r\n    this.rightArrow.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      this.next();\r\n    });\r\n    this.leftArrow.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      this.previous();\r\n    });\r\n  }\r\n\r\n  close() {\r\n    setTimeout(() => {\r\n      this.body.firstChild.remove();\r\n    }, 700);\r\n    this.links[this.currentMediaPosition].focus()\r\n    \r\n  }\r\n\r\n  next() {\r\n    \r\n    this.lightBoxRemove;\r\n    \r\n    if (this.currentMediaPosition < this.links.length - 1) {\r\n      \r\n      this.currentMediaPosition++;\r\n      this.currentMediaTitle++;\r\n      this.linkUrl = this.tabLinks[this.currentMediaPosition];\r\n      this.titlePos = this.title[this.currentMediaTitle];\r\n      \r\n      \r\n      this.preview();\r\n      \r\n    } else {\r\n      \r\n      this.currentMediaPosition = 0;\r\n      this.currentMediaTitle = 0;\r\n      this.linkUrl = this.tabLinks[this.currentMediaPosition];\r\n      this.titlePos = this.title[this.currentMediaTitle];\r\n      \r\n      this.preview();\r\n    }\r\n  }\r\n\r\n  previous() {\r\n    this.lightBoxRemove;\r\n    \r\n    \r\n    if (this.currentMediaPosition > 0) {\r\n      this.currentMediaPosition--;\r\n      this.currentMediaTitle--;\r\n      this.linkUrl = this.tabLinks[this.currentMediaPosition];\r\n      this.titlePos = this.title[this.currentMediaTitle];\r\n      this.preview();\r\n    } else {\r\n      this.currentMediaPosition = this.links.length - 1;\r\n      this.currentMediaTitle = this.title.length - 1;\r\n      this.linkUrl = this.tabLinks[this.currentMediaPosition];\r\n      this.titlePos = this.title[this.currentMediaTitle];\r\n      this.preview();\r\n    }\r\n  }\r\n\r\n  keyboardEvent() {\r\n    this.element.addEventListener(\"keydown\", (e) => {\r\n      if (e.key === \"Escape\" && this.element !== null) {\r\n        this.close();\r\n      } else if (e.key === \"ArrowLeft\") {\r\n        this.previous();\r\n        this.leftArrow.focus();\r\n      } else if (e.key === \"ArrowRight\" && this.element !== null) {\r\n        this.next();\r\n        this.rightArrow.focus();\r\n      } else if (e.key === \"Tab\" && this.element !== null) {\r\n        e.preventDefault();\r\n        this.focusInModal(e);\r\n      } \r\n    });\r\n  }\r\n\r\n  constructor(linkUrl, tabLinks, link, title, titlePos, currentMediaPosition, currentMediaTitle) {\r\n    this.linkUrl = linkUrl;\r\n    this.tabLinks = tabLinks;\r\n    this.link = link;\r\n    this.title = title;\r\n    this.titlePos = titlePos;\r\n    this.links = Array.from(document.querySelectorAll(\".media\"));\r\n    this.currentMediaPosition = currentMediaPosition;\r\n    this.currentMediaTitle = currentMediaTitle;\r\n\r\n    this.element = this.buildDom();\r\n    this.body = document.querySelector(\"body\");\r\n    this.body.prepend(this.element);\r\n    this.lightboxContainer = document.querySelector(\".lightbox_container\");\r\n    this.lightBoxRemove = this.lightboxContainer.firstChild.remove();\r\n  \r\n    this.closeIcon = document.querySelector(\".close-lightbox\");\r\n    this.rightArrow = document.querySelector(\".next\");\r\n    this.leftArrow = document.querySelector(\".previous\");\r\n    this.clicEvent();\r\n    this.keyboardEvent();\r\n  }\r\n\r\n  buildDom() {\r\n    const wrapper = document.createElement(\"div\");\r\n    wrapper.classList.add(\"wrapper\");\r\n    wrapper.innerHTML = `\r\n                <div class=\"wrapper-content\">\r\n                <div class=\"bground\"></div>\r\n                <div class=\"wrapper-left\">\r\n                  <button aria-label=\"bouton recule\" class=\"previous modalLightbox\" tabindex=\"0\">\r\n                    <i class=\"fas fa-solid fa-angle-left\"></i>\r\n                  </button>\r\n                </div>\r\n                <div class=\"lightbox_container\">\r\n                  \r\n                </div>\r\n                <div class=\"wrapper-right\">\r\n                  <button aria-label=\"avance\" class=\"next modalLightbox\" tabindex=\"0\">\r\n                    <i class=\"fas fa-solid fa-angle-right\"></i>\r\n                  </button>\r\n                  <button aria-label=\"fermeture de la lightbox\" class=\"close-lightbox modalLightbox\" tabindex=\"0\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"/></svg>\r\n                  </button>\r\n                </div>\r\n                </div>\r\n                \r\n            `;\r\n\r\n    return wrapper;\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://webpack_essai/./src/scripts/pages/diaporama.js?");

/***/ }),

/***/ "./src/scripts/pages/photographer.js":
/*!*******************************************!*\
  !*** ./src/scripts/pages/photographer.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"displayMedias\": () => (/* binding */ displayMedias),\n/* harmony export */   \"displayPhotographerHeader\": () => (/* binding */ displayPhotographerHeader),\n/* harmony export */   \"getPhotographerId\": () => (/* binding */ getPhotographerId)\n/* harmony export */ });\n/* harmony import */ var _styles_style_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../styles/style.scss */ \"./src/styles/style.scss\");\n/* harmony import */ var _factories_photographerFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../factories/photographerFactory.js */ \"./src/scripts/factories/photographerFactory.js\");\n/* harmony import */ var _factories_mediasFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../factories/mediasFactory */ \"./src/scripts/factories/mediasFactory.js\");\n/* harmony import */ var _pages_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pages/api.js */ \"./src/scripts/pages/api.js\");\n/* harmony import */ var _utils_contactForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/contactForm */ \"./src/scripts/utils/contactForm.js\");\n/* harmony import */ var _diaporama__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./diaporama */ \"./src/scripts/pages/diaporama.js\");\n/* harmony import */ var _utils_likes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/likes */ \"./src/scripts/utils/likes.js\");\n\r\n\r\n\r\n\r\n\r\n//import { dropdown } from \"../utils/dropdown\";\r\n//import { Lightbox } from \"../factories/lightbox\";\r\n\r\n//import { move } from \"../utils/draggableDiv\";\r\n\r\n\r\nfunction getPhotographerId() {\r\n  return new URL(location.href).searchParams.get(\"index\");\r\n}\r\n\r\n///AFFICHAGE DU HEADER SUR LA PAGE PHOTOGRAPHE\r\nasync function displayPhotographerHeader() {\r\n  const articleId = getPhotographerId();\r\n\r\n  const articles = await (0,_pages_api_js__WEBPACK_IMPORTED_MODULE_3__.fetchPhotographers)();\r\n  //console.log(articles);\r\n  for (let article of articles) {\r\n    if (article.id == articleId) {\r\n      const headerPhotographer = new _factories_photographerFactory_js__WEBPACK_IMPORTED_MODULE_1__.PhotographerFactory(article);\r\n      headerPhotographer.getUserSpecific();\r\n\r\n      //AFFICHAGE DYNAMIQUE DU PRIX JOURNALIER\r\n      const tarifJour = document.querySelector(\".tarif-jour\");\r\n      tarifJour.innerHTML = article.price + \"€/jour\";\r\n      //AFFICHAGE DYNAMIQUE DU NOM DANS LE FORMULAIRE\r\n      const contactName = document.querySelector(\".contact-name\");\r\n      contactName.innerHTML = article.name;\r\n    }\r\n  }\r\n}\r\n\r\ndisplayPhotographerHeader(); //AFFICHAGE DU HEADER PERSONNALISE POUR UN PHOTOGRAPHE\r\n\r\n(0,_utils_contactForm__WEBPACK_IMPORTED_MODULE_4__.contactForm)(); //GESTION DU FORMULAIRE\r\n\r\n//move()\r\n\r\n///AFFICHAGE DES MEDIAS CORRESPONDANT A CHAQUE PHOTOGRAPHE ----> AFFICHAGE PAR DEFAUT\r\nasync function displayMedias() {\r\n  const dataMedia = await (0,_pages_api_js__WEBPACK_IMPORTED_MODULE_3__.fetchPhotographersMedias)();\r\n  const mediaId = getPhotographerId();\r\n  const selected = document.querySelector(\".selected\");\r\n  const selectBox = document.getElementById(\"tri\");\r\n  const optionsContainer = document.querySelector(\".options-container\");\r\n  const optionsList = Array.from(document.querySelectorAll(\".option\"));\r\n  console.log(optionsList[0]);\r\n  \r\n  \r\n  \r\n  let mediaArray = [];\r\n\r\n  // APPARITION DES MEDIAS PAR ID PHOTOGRAPHE PAR DEFAUT (date)\r\n  for (let media of dataMedia) {\r\n    if (media.photographerId == mediaId) {\r\n      mediaArray.push(media);\r\n      new _factories_mediasFactory__WEBPACK_IMPORTED_MODULE_2__.MediaFactory(media).getMedias();\r\n      (0,_utils_likes__WEBPACK_IMPORTED_MODULE_6__.likes)();\r\n    }\r\n       \r\n  }\r\n  _diaporama__WEBPACK_IMPORTED_MODULE_5__.Lightbox.init()\r\n\r\n  const figures = Array.from(document.querySelectorAll('figure .media'));\r\n  console.log(figures[0]);\r\n  //TOGGLE OUVERTURE FERMETURE DU MENU DROPDOWN AU CLIC\r\n  selectBox.addEventListener(\"click\", () => {\r\n    \r\n    optionsContainer.classList.toggle(\"active\");\r\n    if(optionsContainer.classList.contains('active')){\r\n      selected.setAttribute('aria-expanded', true);\r\n      selected.setAttribute('aria-activedescendant', true);\r\n      let i = 0\r\n      console.log(optionsContainer.children[1]);\r\n      optionsContainer.children[1].focus()\r\n      for(let option of optionsList){\r\n        console.log(optionsList);\r\n        //i += 1\r\n        option.tabIndex = i;\r\n\r\n      }\r\n      selected.addEventListener('keydown', (e) => {\r\n        if(e.key === 'Tab'){\r\n          console.log(optionsContainer.children[1]);\r\n          optionsContainer.children[0].focus()\r\n        }\r\n      })\r\n      \r\n    }else{\r\n       selected.setAttribute('aria-expanded', false);\r\n       selected.setAttribute('aria-activedescendant', false);\r\n      selected.innerHTML = \"Selection\" \r\n      for(let option of optionsList){\r\n        console.log(optionsList);\r\n        option.tabIndex = -1;\r\n      }\r\n    }\r\n\r\n    \r\n    \r\n  });\r\n  //TOGGLE OUVERTURE FERMETURE AU CLAVIER\r\n  \r\n selectBox.addEventListener(\"keydown\", (e) => {\r\n   console.log(e);\r\n    if(e.key === \"Enter\"){\r\n      selectBox.click();\r\n    }\r\n     if(e.key === \"Escape\"){\r\n        optionsContainer.classList.remove(\"active\");\r\n       \r\n      }           \r\n    \r\n  });\r\n\r\n\r\n  // LORSQUE L'ON CLIQUE SUR UNE OPTION DU MENU DROPDOWN ......\r\n  for(let i = 0; i < optionsList.length; i++){\r\n    optionsContainer.classList.remove(\"active\");\r\n    function selectOptionDisplay(){\r\n      selected.innerHTML = optionsList[i].querySelector(\"label\").innerHTML;\r\n      \r\n      const gallery = document.querySelector(\".gallery\");\r\n      gallery.innerHTML = \"\"; //ON VIDE LA GALERIE\r\n      // TRI EN FONCTION DE L'ELEMENT CHOISI (Popularité, Date ou Titre)\r\n      \r\n        const choice = selected.innerHTML;\r\n\r\n        switch (choice) {\r\n          case \"Popularité\":\r\n            mediaArray.sort((a, b) => {\r\n              return b.likes - a.likes;\r\n            });\r\n\r\n            break;\r\n\r\n          case \"Date\":\r\n            mediaArray.sort((a, b) => {\r\n              return new Date(b.date) - new Date(a.date);\r\n            });\r\n            break;\r\n\r\n          case \"Titre\":\r\n            mediaArray.sort((a, b) => {\r\n              return a.title > b.title ? 1 : -1;\r\n            });\r\n\r\n            break;\r\n        }\r\n\r\n         //LANCEMENT DE L'AFFICHAGE UNE FOIS LE TRI EFFECTUE\r\n         for (let media of mediaArray) { \r\n         if (media.photographerId == mediaId) {\r\n          new _factories_mediasFactory__WEBPACK_IMPORTED_MODULE_2__.MediaFactory(media).getMedias();\r\n          (0,_utils_likes__WEBPACK_IMPORTED_MODULE_6__.likes)();\r\n          _diaporama__WEBPACK_IMPORTED_MODULE_5__.Lightbox.init();\r\n        }\r\n      }\r\n    }\r\n    optionsList[i].addEventListener(\"click\", () => {\r\n      selectOptionDisplay(); \r\n      \r\n    })\r\n\r\n    optionsList[i].addEventListener(\"keydown\", (e) => {\r\n      console.log(e);\r\n      if(e.key == \"Enter\"){\r\n        \r\n        e.preventDefault()\r\n        selectOptionDisplay(); \r\n       \r\n      }\r\n      // if(e.key === \"Escape\"){\r\n      //   optionsContainer.classList.remove(\"active\");\r\n       \r\n      // }           \r\n      })\r\n  }\r\n  \r\n    \r\n}\r\n\r\ndisplayMedias();\r\n\r\n\r\n        \r\n\r\n       \n\n//# sourceURL=webpack://webpack_essai/./src/scripts/pages/photographer.js?");

/***/ }),

/***/ "./src/scripts/utils/contactForm.js":
/*!******************************************!*\
  !*** ./src/scripts/utils/contactForm.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"contactForm\": () => (/* binding */ contactForm)\n/* harmony export */ });\n/* harmony import */ var _pages_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/api */ \"./src/scripts/pages/api.js\");\n/* harmony import */ var _pages_photographer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pages/photographer */ \"./src/scripts/pages/photographer.js\");\n\r\n\r\n\r\nasync function contactForm() {\r\n  await (0,_pages_photographer__WEBPACK_IMPORTED_MODULE_1__.displayPhotographerHeader)();\r\n  const articles = await (0,_pages_api__WEBPACK_IMPORTED_MODULE_0__.fetchPhotographers)();\r\n  //Variables du formulaire\r\n  const formModal = document.querySelector(\"#contact_modal\"); //formulaire\r\n  const contactBtn = document.querySelector(\"button.contact\"); //ouverture\r\n  const titreForm = document.querySelector(\"h1\");\r\n  const closeModal = document.querySelector(\".close-modal\"); //fermeture\r\n  let inputField = document.querySelectorAll(\"input.input-control\"); // inputs\r\n  //const sendButton = document.querySelector(\".send_button\"); //bouton envoyer\r\n  const body = document.querySelector(\"body\");\r\n  const header = document.querySelector(\"header\");\r\n  const main = document.querySelector(\"main\");\r\n  //ouverture du formulaire\r\n  contactBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    formModal.style.display = \"inline-block\";\r\n    formModal.setAttribute(\"aria-modal\", true);\r\n    // header.style.display = \"none\";\r\n    // main.style.display = \"none\";\r\n    // body.style.backgroundColor = \"#901C1C\";\r\n    titreForm.focus();\r\n    focusBlur();\r\n  });\r\n\r\n  ///FONCTION GARDE DU FOCUS DANS LE FORMULAIRE\r\n  const focusInModal = function (e) {\r\n    e.preventDefault();\r\n    const focusablesForm = Array.from(document.querySelectorAll(\".modalForm\"));\r\n    let index = focusablesForm.findIndex(\r\n      (elt) => elt === formModal.querySelector(\":focus\")\r\n    );\r\n\r\n    if (e.shiftKey === true) {\r\n      index--;\r\n    } else {\r\n      index++;\r\n    }\r\n\r\n    if (index >= focusablesForm.length) {\r\n      index = 0;\r\n    }\r\n    if (index < 0) {\r\n      index = focusablesForm.length - 1;\r\n    }\r\n\r\n    focusablesForm[index].focus();\r\n  };\r\n  // TABULATION A L'INTERIEUR DU FORMAULAIRE EN BOUCLE\r\n  window.addEventListener(\"keydown\", (e) => {\r\n    if (e.key === \"Tab\" && formModal.style.display === \"inline-block\") {\r\n      e.preventDefault();\r\n      focusInModal(e);\r\n    }\r\n  });\r\n\r\n  //FERMETURE DU FORMULAIRE AVEC TOUCHE ECHAP\r\n  window.addEventListener(\"keydown\", (e) => {\r\n    if (e.key === \"Escape\" && formModal.style.display === \"inline-block\") {\r\n      body.style.backgroundColor = \"transparent\";\r\n      setTimeout(() => {\r\n        formModal.style.display = \"none\";\r\n        // header.style.display = \"block\";\r\n        // main.style.display = \"block\";\r\n\r\n        resetField();\r\n      }, 1000);\r\n      contactBtn.focus();\r\n    }\r\n  });\r\n\r\n  ///FERMETURE DU FORMULAIRE AU CLIC\r\n  closeModal.addEventListener(\"click\", (e) => {\r\n    body.style.backgroundColor = \"transparent\";\r\n    setTimeout(() => {\r\n      formModal.style.display = \"none\";\r\n      // header.style.display = \"block\";\r\n      // main.style.display = \"block\";\r\n\r\n      resetField();\r\n    }, 500);\r\n    contactBtn.focus();\r\n  });\r\n\r\n  // Fonction RESET après envoi du formulaire\r\n  function resetField() {\r\n    for (let i = 0; i < inputField.length; i++) {\r\n      inputField[i].value = \"\";\r\n      inputField[i].classList.remove(\"redBorder\");\r\n      inputField[i].classList.remove(\"greenBorder\");\r\n      inputField[i].nextElementSibling.innerHTML = \"\";\r\n    }\r\n    contactBtn.focus();\r\n  }\r\n\r\n  function focusBlur() {\r\n    for (let i = 0; i < inputField.length; i++) {\r\n      inputField[i].addEventListener(\"focus\", addColor);\r\n      inputField[i].addEventListener(\"blur\", removeColor);\r\n\r\n      function addColor() {\r\n        inputField[i].classList.add(\"blueBorder\");\r\n      }\r\n\r\n      function removeColor() {\r\n        inputField[i].classList.remove(\"blueBorder\");\r\n      }\r\n    }\r\n  }\r\n\r\n  // AFFICHAGE DYNAMIQUE DU NOM --> photographer.js\r\n\r\n  //VALIDATION DES CHAMPS\r\n\r\n  function valideForm() {\r\n    let error = 0;\r\n    for (let i = 0; i < inputField.length; i++) {\r\n      const type = inputField[i].getAttribute(\"id\");\r\n      let paragraphe = inputField[i].nextElementSibling;\r\n\r\n      switch (type) {\r\n        case \"first\":\r\n          if (inputField[i].value === \"\") {\r\n            error = error + 1;\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            errorMessage(\r\n              paragraphe,\r\n              `Veuillez inscrire votre prénom`,\r\n              inputField[i]\r\n            );\r\n          } else if (\r\n            /^[a-zA-Zéè ]+[\\-]?[a-zA-Zéè ]+$/.test(\r\n              inputField[i].value.trim()\r\n            ) &&\r\n            inputField[i].value.length >= 2\r\n          ) {\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            okMessage(paragraphe, `Le prénom est valide`, inputField[i]);\r\n            inputField[i + 1].focus();\r\n            console.log(inputField[i].value);\r\n          } else {\r\n            error = error + 1;\r\n            console.log(error);\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            errorMessage(paragraphe, `Le prénom est invalide`, inputField[i]);\r\n          }\r\n\r\n          break;\r\n\r\n        case \"last\":\r\n          if (inputField[i].value === \"\") {\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            errorMessage(\r\n              paragraphe,\r\n              `Veuillez renseigner votre nom`,\r\n              inputField[i]\r\n            );\r\n            error = error + 1;\r\n          } else if (\r\n            /^[a-zA-Zéè ]+[\\-]?[a-zA-Zéè ]+$/.test(\r\n              inputField[i].value.trim()\r\n            ) &&\r\n            inputField[i].value.length >= 2\r\n          ) {\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            okMessage(paragraphe, `Nom valide`, inputField[i]);\r\n            inputField[i + 1].focus();\r\n            console.log(inputField[i].value);\r\n          } else {\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            errorMessage(paragraphe, `Nom invalide`, inputField[i]);\r\n            error = error + 1;\r\n          }\r\n\r\n          break;\r\n\r\n        case \"mail\":\r\n          if (inputField[i].value === \"\") {\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            errorMessage(paragraphe, `Le mail est obligatoire`, inputField[i]);\r\n            error = error + 1;\r\n          } else if (\r\n            /^\\w+([\\.-]?\\w+)*@\\w+([\\-]?\\w+)*\\.(\\w{2,3})+$/.test(\r\n              inputField[i].value.trim()\r\n            )\r\n          ) {\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            okMessage(paragraphe, `Mail valide`, inputField[i]);\r\n            inputField[i + 1].focus();\r\n            console.log(inputField[i].value);\r\n          } else {\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            errorMessage(paragraphe, `Le mail est invalide`, inputField[i]);\r\n            error = error + 1;\r\n          }\r\n\r\n          break;\r\n\r\n        case \"text\":\r\n          if (inputField[i].value === \"\") {\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            errorMessage(paragraphe, `Quel est votre message ?`, inputField[i]);\r\n            error = error + 1;\r\n          } else if (inputField[i].value.trim()) {\r\n            inputField[i].classList.remove(\"blueBorder\");\r\n            okMessageRemove(paragraphe, inputField[i]);\r\n            okMessage(paragraphe, `Merci !`, inputField[i]);\r\n            //sendButton.focus();\r\n            console.log(inputField[i].value);\r\n          }\r\n      }\r\n    }\r\n    return error <= 0;\r\n  }\r\n\r\n  function errorMessage(nodeElt, message, input) {\r\n    nodeElt.innerHTML = message;\r\n    nodeElt.classList.add(\"red\");\r\n    input.classList.add(\"redBorder\");\r\n  }\r\n\r\n  function okMessage(nodeElt, message, input) {\r\n    nodeElt.innerHTML = message;\r\n    nodeElt.classList.add(\"green\");\r\n    input.classList.add(\"greenBorder\");\r\n  }\r\n\r\n  function okMessageRemove(nodeElt, input) {\r\n    nodeElt.classList.remove(\"green\");\r\n    input.classList.remove(\"greenBorder\");\r\n  }\r\n\r\n  formModal.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    if (valideForm()) {\r\n      setTimeout(() => {\r\n        formModal.style.display = \"none\";\r\n        // header.style.display = \"block\";\r\n        // main.style.display = \"block\";\r\n        // body.style.backgroundColor = \"transparent\";\r\n        resetField();\r\n      }, 500);\r\n      contactBtn.focus();\r\n    }\r\n  });\r\n}\r\n\n\n//# sourceURL=webpack://webpack_essai/./src/scripts/utils/contactForm.js?");

/***/ }),

/***/ "./src/scripts/utils/likes.js":
/*!************************************!*\
  !*** ./src/scripts/utils/likes.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"likes\": () => (/* binding */ likes)\n/* harmony export */ });\n\r\n/// GESTION DES LIKES\r\nfunction likes() {\r\n    const likeCount = document.querySelectorAll(\".like-count\");\r\n    const likeButton = document.querySelectorAll(\".like-button\");\r\n    const likeTotal = document.querySelector(\".like-total-count\");\r\n    let sum = 0;\r\n    //incrémentation\r\n    for (let i = 0; i < likeButton.length; i++) {\r\n      const target = +likeCount[i].getAttribute(\"data-target\");\r\n      sum += +likeCount[i].getAttribute(\"data-target\");\r\n      likeCount[i].innerHTML = likeCount[i].getAttribute(\"data-target\");\r\n      likeTotal.innerHTML = sum + `<i class=\"fas fa-solid fa-heart\"></i>`;\r\n      let clicked = false;\r\n\r\n      function evtLike(){\r\n        if (!clicked) {\r\n          clicked = true;\r\n          likeButton[\r\n            i\r\n          ].innerHTML = `<i class=\"fas fa-solid fa-heart\"></i>`;\r\n\r\n          //total de likes sous chaque photo actualisé à chaque clic\r\n          likeCount[i].innerText = target + 1;\r\n          //total de likes général actualisé sur la page\r\n          likeTotal.innerHTML =\r\n            1 + sum++ + `<i class=\"fas fa-solid fa-heart\"></i>`;\r\n        } else {\r\n          //DISLIKE\r\n          clicked = false;\r\n          likeButton[\r\n            i\r\n          ].innerHTML = `<i class=\"far fa-regular fa-heart\"></i>`;\r\n\r\n          //total de likes sous chaque photo actualisé à chaque dislike\r\n          likeCount[i].innerText = 1 + target - 1;\r\n          //total de likes général actualisé sur la page\r\n          likeTotal.innerHTML =\r\n            -1 + sum-- + `<i class=\"fas fa-solid fa-heart\"></i>`;\r\n        }\r\n      }\r\n\r\n      //EVENEMENT AU CLIC SUR LE BOUTON LIKE\r\n      likeButton[i].addEventListener(\"click\", () => {\r\n        evtLike();\r\n      });\r\n\r\n      //EVENEMENT TOUCHE ENTREE SUR LE BOUTON LIKE\r\n\r\n      likeButton[i].addEventListener(\"keydown\", (e) => {\r\n       \r\n        console.log(e);\r\n        if(e.key === \"Enter\"){\r\n          evtLike();  \r\n        }\r\n        \r\n      });\r\n    }\r\n  }\r\n\n\n//# sourceURL=webpack://webpack_essai/./src/scripts/utils/likes.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/scripts/pages/photographer.js");
/******/ 	
/******/ })()
;